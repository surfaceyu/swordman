import{E as e}from"./index.889da779.js";import{E as a,a as l,b as s,h as o}from"./accountHttp.c85847ef.js";import{E as t,c as r}from"./messageApi.db12a57a.js";import"./el-form-item.e866842d.js";import{d as u,r as d,a as n,o as p,c,w as i,b as m,m as f,u as h,e as w,S as b}from"./index.d34c077d.js";const g=u({setup(u){const g=d(),v=n({account:"",pass:"",passCheck:""}),k=n({account:[{validator:(e,a,l)=>{if(!a)return l(new Error("请输入账号"));l()},trigger:"blur"}],pass:[{validator:(e,a,l)=>{var s;""!==a?(""!==v.passCheck&&(null==(s=g.value)||s.validateField("passCheck",(()=>null))),l()):l(new Error("请输入密码"))},trigger:"blur"}],passCheck:[{validator:(e,a,l)=>{""!==a?a===v.pass?l():l(new Error("密码不一致，请重新输入")):l(new Error("请输入密码"))},trigger:"blur"}]});return(u,d)=>{const n=a,y=t,_=e,C=l,V=s;return p(),c(V,{type:"flex",justify:"center",align:"middle",style:{height:"100%"}},{default:i((()=>[m(C,{ref_key:"ruleFormRef",ref:g,model:h(v),"status-icon":"",rules:h(k),"label-width":"30%",class:"demo-ruleForm",style:{"text-align":"center",position:"absolute"}},{default:i((()=>[m(n,null,{default:i((()=>[f("p",null,"文字武侠")])),_:1}),m(n,{label:"账户",prop:"account"},{default:i((()=>[m(y,{modelValue:h(v).account,"onUpdate:modelValue":d[0]||(d[0]=e=>h(v).account=e),modelModifiers:{number:!0}},null,8,["modelValue"])])),_:1}),m(n,{label:"密码",prop:"pass"},{default:i((()=>[m(y,{modelValue:h(v).pass,"onUpdate:modelValue":d[1]||(d[1]=e=>h(v).pass=e),type:"password","show-password":"",autocomplete:"off"},null,8,["modelValue"])])),_:1}),m(n,{label:"确认密码",prop:"passCheck"},{default:i((()=>[m(y,{modelValue:h(v).passCheck,"onUpdate:modelValue":d[2]||(d[2]=e=>h(v).passCheck=e),type:"password","show-password":"",autocomplete:"off"},null,8,["modelValue"])])),_:1}),m(n,null,{default:i((()=>[m(_,{type:"primary",onClick:d[3]||(d[3]=e=>{var a;(a=g.value)&&a.validate((async e=>{if(!e)return!1;{const e=await o.Put("/auth/login",{Account:v.account,Passwd:v.pass},!1);e&&200==e.code&&(b({url:"../login/index"}),r())}}))})},{default:i((()=>[w("注册")])),_:1}),m(_,{onClick:d[4]||(d[4]=e=>{var a;(a=g.value)&&a.resetFields()})},{default:i((()=>[w("重置")])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1})}}});export{g as default};
